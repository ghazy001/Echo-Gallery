<!DOCTYPE html>
{% load static %}
<html>
<head>
    <meta charset="utf-8">
    <title>Places</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'dashboard/css/styles.css' %}">
</head>
<body>
<div class="grid-container">

  {% include "dashboard/partials/header.html" %}
  {% include "dashboard/partials/sidebar.html" %}

  <main class="main-container">
      <div class="main-title" style="display:flex;flex-wrap:wrap;align-items:center;gap:10px;">
    <h2 style="margin-right:auto;">PLACES</h2>

    <a href="{% url 'dashboard_place_export' %}"
       style="padding:8px 12px;background:#27ae60;color:#fff;border-radius:4px;
              font-size:13px;text-decoration:none;display:inline-block;">
        â¬‡ Export Excel
    </a>

    <a href="{% url 'dashboard_place_create' %}"
       style="padding:8px 12px;background:#3498db;color:#fff;border-radius:4px;
              font-size:13px;text-decoration:none;display:inline-block;">
       + Add Place
    </a>
</div>


      <div class="charts-card" style="overflow-x:auto;">
        <table style="width:100%; border-collapse:collapse; font-size:14px;">
          <thead>
            <tr style="border-bottom:2px solid #ddd;text-align:left;">
              <th style="padding:10px;">Name</th>
              <th style="padding:10px;">Address</th>
              <th style="padding:10px;">City</th>
              <th style="padding:10px;">Capacity</th>
              <th style="padding:10px;">Actions</th>
            </tr>
          </thead>
          <tbody>
          {% for p in places %}
            <tr style="border-bottom:1px solid #eee;">
              <td style="padding:10px;">{{ p.name }}</td>
              <td style="padding:10px;">{{ p.address }}</td>
              <td style="padding:10px;">{{ p.city }}</td>
              <td style="padding:10px;">{{ p.capacity }}</td>
              <td style="padding:10px;">
                <a href="{% url 'dashboard_place_edit' p.id %}"
                   style="padding:6px 10px;background:#3498db;color:#fff;border-radius:4px;font-size:12px;">Edit</a>

                <form method="post" action="{% url 'dashboard_place_delete' p.id %}" style="display:inline;">
                  {% csrf_token %}
                  <button type="submit"
                          onclick="return confirm('Delete place {{ p.name }} ?');"
                          style="padding:6px 10px;background:#e74c3c;color:#fff;border:none;border-radius:4px;font-size:12px;cursor:pointer;">
                    Delete
                  </button>
                </form>
              </td>
            </tr>
          {% empty %}
            <tr><td colspan="5" style="padding:20px;color:#666;text-align:center;">No places yet.</td></tr>
          {% endfor %}
          </tbody>
        </table>
      </div>
  </main>
</div>
<script src="{% static 'dashboard/js/scripts.js' %}"></script>
</body>
</html>
